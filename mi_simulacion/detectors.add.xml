<?xml version="1.0" encoding="UTF-8"?>
<additional xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://sumo.dlr.de/xsd/additional_file.xsd">

    <!-- Detectores de inducción (e1) -->
    <e1Detector id="det1" lane=":10043123782_0_0" pos="10.0" freq="60" file="detector1.out" friendlyPos="true"/>
    <e1Detector id="det2" lane=":10658864342_1_0" pos="15.0" freq="60" file="detector2.out" friendlyPos="true"/>
    <e1Detector id="det3" lane=":12192130441_0_0" pos="20.0" freq="60" file="detector3.out" friendlyPos="true"/>
    <e1Detector id="det4" lane=":12547101448_1_0" pos="25.0" freq="60" file="detector4.out" friendlyPos="true"/>

    <!-- Detectores de flujo multicarril (e2) -->
    <e2Detector id="multi_det1" lane=":10048001950_0_0" pos="5.0" endPos="15.0" freq="300" file="multi_detector1.out" friendlyPos="true"/>
    <e2Detector id="multi_det2" lane=":10660516194_0_0" pos="10.0" endPos="20.0" freq="300" file="multi_detector2.out" friendlyPos="true"/>

    <!-- Detectores de paso de nivel (e3) -->
    <entryExitDetector id="area_det1" freq="60" file="area_detector.out">
        <detEntry lane=":12190707114_1_0" pos="5.0"/>
        <detExit lane=":12192130433_1_0" pos="10.0"/>
    </entryExitDetector>

    <!-- Detectores de velocidad (e1) con medición de velocidad -->
    <e1Detector id="speed_det1" lane=":12547101443_1_0" pos="30.0" freq="60" file="speed_detector1.out" vTypes="car" friendlyPos="true"/>
    <e1Detector id="speed_det2" lane=":12547101444_0_0" pos="35.0" freq="60" file="speed_detector2.out" vTypes="bus,truck" friendlyPos="true"/>

    <!-- Detectores de ocupación (e1) -->
    <e1Detector id="occ_det1" lane=":10048001951_0_0" pos="40.0" freq="60" file="occupancy_detector1.out" friendlyPos="true"/>

    <!-- Añade esto en detectors.add.xml -->
<tlLogic id="nodo_prioritario" type="actuated" programID="smart" offset="0">
    <phase duration="31" minDur="5" maxDur="45" state="GGGgrrrrGGGgrrrr"/>
    <phase duration="5" state="yyyyyrrrryyyyyrrrr"/>
    <phase duration="31" minDur="5" maxDur="45" state="rrrrGGGgrrrrGGGg"/>
    <phase duration="5" state="rrrryyyyrrrryyyy"/>
</tlLogic>

<!-- Detectores para control adaptativo -->
<inductionLoop id="e1_det_smart" lane=":10658864342_1_0" pos="10.0" freq="60" file="smart_tls.out"/>

<!-- Añade en detectors.add.xml -->
<rerouter id="lez_zone" edges=":12192130441_0 :12547101448_1">
    <interval begin="0" end="3600">
        <closingReroute id="no_entry_heavy" vTypes="truck" allowed="none"/>
        <parkingAreaReroute id="truck_parking" parkingArea="parking_heavy"/>
    </interval>
</rerouter>

<parkingArea id="parking_heavy" lane=":12547101444_0_0" startPos="50" endPos="70" 
             roadsideCapacity="5" friendlyPos="true"/>

</additional>

